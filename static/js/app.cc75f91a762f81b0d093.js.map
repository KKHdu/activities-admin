{"version":3,"sources":["webpack:///src/views/layout/index.vue","webpack:///./src/views/layout/index.vue?697e","webpack:///./src/views/layout/index.vue","webpack:///./src/router/_import_production.js","webpack:///./src/App.vue?da91","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/mutation-types.js","webpack:///./src/utils/auth.js","webpack:///./src/utils/fetch.js","webpack:///./src/store/modules/user.js","webpack:///./src/api/login.js","webpack:///./src/store/index.js","webpack:///./src/store/getters.js","webpack:///./src/permission.js","webpack:///./src/main.js","webpack:///./src/views lazy ^\\.\\/.*\\.vue$"],"names":["layout","user","computed","extends_default","Object","vuex_esm","views_layout","render","_h","this","$createElement","_self","_c","_v","_s","role","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","file","selectortype_template_index_0_src_App","attrs","src_App","_import","vue_esm","use","vue_router_esm","routerMap","path","component","src_router","routes","mutation_types","getToken","localStorage","getItem","service","a","create","baseURL","timeout","interceptors","request","config","store","getters","token","headers","error","console","log","promise_default","reject","response","element_ui_common","message","type","duration","fetch","modules_user","state","mutations","defineProperty_default","_mutations","actions","login","_ref","userInfo","commit","resolve","data","url","method","then","res","setItem","setToken","catch","err","logout","_ref2","removeItem","Store","modules","strict","plugins","whiteList","beforeEach","to","from","next","nprogress_default","start","indexOf","done","productionTip","element_ui_common_default","el","router","components","App","template","map","./layout/index.vue","./login/index.vue","webpackAsyncContext","req","ids","Promise","all","slice","e","Error","keys"],"mappings":"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","file":"../static/js/app.cc75f91a762f81b0d093.js","sourcesContent":["<template>\r\n  <div>\r\n    {{this.user.role}} -- {{this.user.id}}\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  created() {\r\n    console.log(this.user)\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'user'\r\n    ])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/layout/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  \"+_vm._s(this.user.role)+\" -- \"+_vm._s(this.user.id)+\"\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b9aa14b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/layout/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b9aa14b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b9aa14b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b9aa14b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/layout/index.vue\n// module id = null\n// module chunks = ","module.exports = file => () => import ('@/views/' + file + '.vue')\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/_import_production.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7caa25d4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7caa25d4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7caa25d4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <transition>\n      <router-view></router-view>\n    </transition>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style lang=\"scss\">\n@import 'normalize.css/normalize.css'; // normalize.css 样式格式化\n@import './styles/index.scss'; // 全局自定义的css样式\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport Router from 'vue-router'\nconst _import = require('./_import_' + process.env.NODE_ENV)\n\nVue.use(Router)\n\nimport Layout from '@/views/layout'\n\nconst routerMap = [{\n  path: '/login',\n  component: _import('login/index')\n}, {\n  path: '/',\n  component: Layout\n}]\n\nconst router = new Router({\n  // mode: 'history',\n  routes: routerMap\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export default {\r\n  SET_TOKEN: 'SET_TOKEN',\r\n  SET_USER: 'SET_USER'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","// import Cookies from 'js-cookie'\r\n\r\nconst TOKEN_KEY = 'TOKEN_ACTIVITIES'\r\nexport const getToken = () => {\r\n  return localStorage.getItem(TOKEN_KEY)\r\n}\r\nexport const setToken = (token) => {\r\n  return localStorage.setItem(TOKEN_KEY, token)\r\n}\r\nexport const removeToken = () => {\r\n  return localStorage.removeItem(TOKEN_KEY)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/auth.js","import axios from 'axios'\r\nimport {\r\n  Message\r\n} from 'element-ui'\r\nimport store from '@/store'\r\nimport {\r\n  getToken\r\n} from '@/utils/auth'\r\n\r\n// 创建axios实例\r\nconst service = axios.create({\r\n  baseURL: process.env.BASE_URL,\r\n  timeout: 5000\r\n})\r\n\r\n// request拦截器\r\nservice.interceptors.request.use(config => {\r\n  if (store.getters.token) {\r\n    config.headers['X-Token'] = getToken()\r\n  }\r\n  return config\r\n}, error => {\r\n  console.log(error)\r\n  Promise.reject(error)\r\n})\r\n\r\n// respone拦截器\r\nservice.interceptors.response.use(\r\n  response => response,\r\n  /**\r\n   * 下面的注释为通过response自定义code来标示请求状态，当code返回如下情况为权限有问题，登出并返回到登录页\r\n   * 如通过xmlhttprequest 状态码标识 逻辑可写在下面error中\r\n   */\r\n  //  const res = response.data;\r\n  //     if (res.code !== 20000) {\r\n  //       Message({\r\n  //         message: res.message,\r\n  //         type: 'error',\r\n  //         duration: 5 * 1000\r\n  //       });\r\n  //       // 50008:非法的token; 50012:其他客户端登录了;  50014:Token 过期了;\r\n  //       if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n  //         MessageBox.confirm('你已被登出，可以取消继续留在该页面，或者重新登录', '确定登出', {\r\n  //           confirmButtonText: '重新登录',\r\n  //           cancelButtonText: '取消',\r\n  //           type: 'warning'\r\n  //         }).then(() => {\r\n  //           store.dispatch('FedLogOut').then(() => {\r\n  //             location.reload();// 为了重新实例化vue-router对象 避免bug\r\n  //           });\r\n  //         })\r\n  //       }\r\n  //       return Promise.reject('error');\r\n  //     } else {\r\n  //       return response.data;\r\n  //     }\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Message({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default service\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/fetch.js","import types from '../mutation-types'\r\nimport {\r\n  getToken,\r\n  setToken,\r\n  removeToken\r\n} from '@/utils/auth'\r\nimport {\r\n  login\r\n} from '@/api/login'\r\n\r\nconst user = {\r\n  state: {\r\n    user: null,\r\n    token: getToken()\r\n  },\r\n  mutations: {\r\n    [types.SET_TOKEN](state, token) {\r\n      state.token = token\r\n    },\r\n    [types.SET_USER](state, user) {\r\n      state.user = user\r\n    }\r\n  },\r\n  actions: {\r\n    login({\r\n      commit\r\n    }, userInfo) {\r\n      return new Promise((resolve, reject) => {\r\n        login(userInfo).then(res => {\r\n          const token = res.data.data.token\r\n          commit(types.SET_TOKEN, token)\r\n          commit(types.SET_USER, res.data.data)\r\n          setToken(token)\r\n          resolve(res.data)\r\n        }).catch(err => {\r\n          reject(err)\r\n        })\r\n      })\r\n    },\r\n    logout({\r\n      commit\r\n    }) {\r\n      commit(types.SET_TOKEN, '')\r\n      removeToken()\r\n    }\r\n  }\r\n}\r\n\r\nexport default user\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","import fetch from '@/utils/fetch'\r\n\r\nexport function login(data) {\r\n  return fetch({\r\n    url: '/login',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/login.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport createLogger from 'vuex/dist/logger'\r\nimport getters from './getters'\r\nimport user from './modules/user'\r\n\r\nVue.use(Vuex)\r\n\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default new Vuex.Store({\r\n  getters,\r\n  modules: {\r\n    user\r\n  },\r\n  strict: debug,\r\n  plugins: debug ? [createLogger()] : []\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export default {\r\n  token: state => state.user.token,\r\n  user: state => state.user.user\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import router from '@/router'\r\n// import store from '@/store'\r\nimport NProgress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\nimport {\r\n  getToken\r\n} from '@/utils/auth'\r\n\r\nconst whiteList = ['/login', 'noredirect'] // 不重定向地址\r\nrouter.beforeEach((to, from, next) => {\r\n  NProgress.start()\r\n  // 未登录 全部重定向至登录界面\r\n  if (!getToken()) {\r\n    // 避免死循环\r\n    if (whiteList.indexOf(to.path) !== -1) {\r\n      next()\r\n    } else {\r\n      next('/login')\r\n    }\r\n    // 已登录\r\n  } else {\r\n    if (to.path === '/login') {\r\n      next('/')\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n\r\n  NProgress.done()\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/permission.js","import Vue from 'vue'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport './permission' // 权限控制\n\nVue.config.productionTip = false\nVue.use(ElementUI)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: {\n    App\n  },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var map = {\n\t\"./layout/index.vue\": [\n\t\t\"6f/g\"\n\t],\n\t\"./login/index.vue\": [\n\t\t\"T+/8\",\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"Opzk\";\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views lazy ^\\.\\/.*\\.vue$\n// module id = Opzk\n// module chunks = 2"],"sourceRoot":""}